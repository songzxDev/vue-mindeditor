(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{"/fdn":function(e,t,n){var o;void 0===(o=function(e,t,o){var i=[];function a(e){i.push(e)}function r(e){this.selector=e;for(var t=0;t<i.length;t++)"function"==typeof i[t]&&i[t].call(this,this)}return r.assemble=a,a(n("dkMl")),a(n("dSb+")),a(n("RIOO")),a(n("vaHd")),a(n("bSn8")),a(n("RVn+")),a(n("JAA7")),a(n("lrL8")),a(n("cxy/")),a(n("BR1M")),a(n("Ashh")),a(n("iIxm")),a(n("JTCX")),a(n("MPEW")),a(n("oOAV")),o.exports=r}.call(t,n,t,e))||(e.exports=o)},"/qK9":function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("8uhi"),a=4096,r=8192,s=16384;function l(e){return"string"==typeof e?(t=0,e.toLowerCase().split(/\s*\+\s*/).forEach((function(e){switch(e){case"ctrl":case"cmd":t|=a;break;case"alt":t|=r;break;case"shift":t|=s;break;default:t|=i[e]}})),t):function(e){var t=0;(e.ctrlKey||e.metaKey)&&(t|=a);e.altKey&&(t|=r);e.shiftKey&&(t|=s);if(-1===[16,17,18,91].indexOf(e.keyCode)){if(229===e.keyCode&&e.keyIdentifier)return t|=parseInt(e.keyIdentifier.substr(2),16);t|=e.keyCode}return t}(e);var t}t.hash=l,t.is=function(e,t){return e&&t&&l(e)==l(t)}}.call(t,n,t,e))||(e.exports=o)},"403d":function(e,t,n){"use strict";n.r(t),n.d(t,"exportMarkdown",(function(){return r}));var o="",i="\x3c!--Note--\x3e",a="\x3c!--/Note--\x3e";function r(e){var t,n=e.exportJson();try{var o=document.createElement("a"),i=new Blob(["\ufeff"+(t=n.root,s(t,1).join("\n"))],{type:"markdown"});o.href=window.URL.createObjectURL(i),o.download=n.root.data.text+".md",document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(e){alert(e)}}function s(e,t){var n=[],r=function(e){var t="";for(;e--;)t+="#";return t}(t=t||1);n.push(r+" "+e.data.text),n.push(o);var l=e.data.note;if(l){var d=/^#/.test(l);d&&(n.push(i),l=l.replace(/^#+/gm,(function(e){return r+e}))),n.push(l),d&&n.push(a),n.push(o)}return e.children&&e.children.forEach((function(e){n=n.concat(s(e,t+1))})),n}},"8uhi":function(e,t,n){var o;void 0===(o=function(e,t,n){var o={Shift:16,Control:17,Alt:18,CapsLock:20,BackSpace:8,Tab:9,Enter:13,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,Direction:{37:1,38:1,39:1,40:1},Del:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190};for(var i in o)o.hasOwnProperty(i)&&(o[i.toLowerCase()]=o[i]);var a="a".charCodeAt(0);"abcdefghijklmnopqrstuvwxyz".split("").forEach((function(e){o[e]=e.charCodeAt(0)-a+65}));var r=9;do{o[r.toString()]=r+48}while(--r);n.exports=o}.call(t,n,t,e))||(e.exports=o)},"8zQj":function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("FNhY");function a(){}return o.exports=function(e){if(this.flaged=-1!=window.location.search.indexOf(e)){var t=function(e){for(var t=0,n=0;n<e.length;n++)t+=e.charCodeAt(n);return t}(e)%360,n=i("background: hsl({0}, 50%, 80%); color: hsl({0}, 100%, 30%); padding: 2px 3px; margin: 1px 3px 0 0;border-radius: 2px;",t),o="background: none; color: black;";this.log=function(){var t=i.apply(null,arguments);console.log(i("%c{0}%c{1}",e,t),n,o)}}else this.log=a}}.call(t,n,t,e))||(e.exports=o)},"A0++":function(e,t,n){"use strict";var o=n("f1rw");n.n(o).a},AsA8:function(e,t,n){"use strict";n.r(t),function(e){function o(t){var n,o,i=t.getPaper(),a=i.shapeNode.getAttribute("transform"),r=t.getRenderContainer(),s=r.getRenderBox(),l=(r.getTransform(),s.width),d=s.height;i.shapeNode.setAttribute("transform","translate(0.5, 0.5)"),n=i.container.innerHTML,console.log(n),i.shapeNode.setAttribute("transform",a),(o=e(n).filter("svg")).attr({width:l+40|0,height:d+40|0,style:'font-family: Arial, "Microsoft Yahei",  "Heiti SC"; background: '+t.getStyle("background")}),o[0].setAttribute("viewBox",[s.x-20|0,s.y-20|0,l+40|0,d+40|0].join(" ")),n=e("<div></div>").append(o).html(),n=(n=e("<div></div>").append(o).html()).replace(/&nbsp;/g,"&#xa0;");var c=new Blob([n],{type:"image/svg+xml"});!function(e,t){try{var n=document.createElement("a");n.href=e,n.download=t+".svg",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){alert(e)}}((window.URL||window.webkitURL||window).createObjectURL(c),editor.minder.exportJson().root.data.text)}n.d(t,"exportSVG",(function(){return o}))}.call(this,n("EVdn"))},Ashh:function(e,t,n){var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0===(o=function(e,t,n){return n.exports=function(){var e,t,n,o,a=this.minder,r=this.hotbox,s=100;function l(){n=[],o=[],e=a.exportJson()}var d=Object.keys?Object.keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};function c(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function u(e){return"object"===(void 0===e?"undefined":i(e))?JSON.parse(JSON.stringify(e)):e}function p(e,t){var n=[];return function e(t,n,o,a){for(var r=d(n),s=d(t),l=!1,p=s.length-1;p>=0;p--){var m=t[f=s[p]];if(n.hasOwnProperty(f)){var h=n[f];"object"==(void 0===m?"undefined":i(m))&&null!=m&&"object"==(void 0===h?"undefined":i(h))&&null!=h?e(m,h,o,a+"/"+c(f)):m!=h&&(!0,o.push({op:"replace",path:a+"/"+c(f),value:u(h)}))}else o.push({op:"remove",path:a+"/"+c(f)}),l=!0}if(l||r.length!=s.length)for(p=0;p<r.length;p++){var f=r[p];t.hasOwnProperty(f)||o.push({op:"add",path:a+"/"+c(f),value:u(n[f])})}}(e,t,n,""),n}function m(){var t=a.exportJson(),o=p(t,e);if(o.length){for(n.push(o);n.length>s;)n.shift();return e=t,!0}}function h(){t=!0;var i,r=n.pop();r&&(a.applyPatches(r),i=a.exportJson(),o.push(p(i,e)),e=i),t=!1}function f(){t=!0;var e=o.pop();e&&(a.applyPatches(e),m()),t=!1}function b(){return!!n.length}function g(){return!!o.length}this.history={reset:l,undo:h,redo:f,hasUndo:b,hasRedo:g},l(),a.on("contentchange",(function(){t||m()&&(o=[])})),a.on("import",l),a.on("patch",(function(e){if(t){var n=e.patch;switch(n.express){case"node.add":a.select(n.node.getChild(n.index),!0);break;case"node.remove":case"data.replace":case"data.remove":case"data.add":a.select(n.node,!0)}}}));var v=r.state("main");v.button({position:"bottom",label:"撤销",key:"Ctrl + Z",enable:b,action:h,next:"idle"}),v.button({position:"bottom",label:"重做",key:"Ctrl + Y",enable:g,action:f,next:"idle"})}}.call(t,n,t,e))||(e.exports=o)},BR1M:function(e,t,n){var o;void 0===(o=function(e,t,n){return n.exports=function(){var e=this,t=this.minder,n=this.hotbox,o=this.fsm,i=n.state("main"),a=0;["前移:Alt+Up:ArrangeUp","下级:Tab|Insert:AppendChildNode","同级:Enter:AppendSiblingNode","后移:Alt+Down:ArrangeDown","删除:Delete|Backspace:RemoveNode","上级:Shift+Tab|Shift+Insert:AppendParentNode"].forEach((function(n){var r=n.split(":"),s=r.shift(),l=r.shift(),d=r.shift();i.button({position:"ring",label:s,key:l,action:function(){if(0===d.indexOf("Append")){a++,t.execCommand(d,"分支主题"),t.on("layoutallfinish",(function n(){--a||e.editText(),t.off("layoutallfinish",n)}))}else t.execCommand(d),o.jump("normal","command-executed")},enable:function(){return-1!=t.queryCommandState(d)}})})),i.button({position:"ring",key:"/",action:function(){t.queryCommandState("expand")?t.queryCommandState("collapse")||t.execCommand("collapse"):t.execCommand("expand")},enable:function(){return-1!=t.queryCommandState("expand")||-1!=t.queryCommandState("collapse")},beforeShow:function(){t.queryCommandState("expand")?this.$button.children[0].innerHTML="收起":this.$button.children[0].innerHTML="展开"}})}}.call(t,n,t,e))||(e.exports=o)},Bbjp:function(e,t,n){var o;void 0===(o=function(e,t,n){!("innerText"in document.createElement("a"))&&"getSelection"in window&&(HTMLElement.prototype.__defineGetter__("innerText",(function(){var e,t,n=window.getSelection(),o=[];for(t=0;t<n.rangeCount;t++)o[t]=n.getRangeAt(t);for(n.removeAllRanges(),n.selectAllChildren(this),e=n.toString(),n.removeAllRanges(),t=0;t<o.length;t++)n.addRange(o[t]);return e})),HTMLElement.prototype.__defineSetter__("innerText",(function(e){this.innerHTML=(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")})))}.call(t,n,t,e))||(e.exports=o)},BviO:function(e,t,n){(t=e.exports=n("I1BE")(!1)).i(n("/GrO"),""),t.i(n("2EsE"),""),t.push([e.i,'.nav-bar{position:absolute;width:35px;height:190px;padding:5px 0;left:10px;bottom:10px;background:#fc8383;color:#fff;border-radius:4px;z-index:10;box-shadow:3px 3px 10px rgba(0,0,0,0.2);transition:-webkit-transform 0.7s 0.1s ease;transition:transform 0.7s 0.1s ease}.nav-bar .nav-btn{width:35px;height:24px;line-height:24px;text-align:center}.nav-bar .nav-btn .icon{background:url("/static/minder/icons.png");width:20px;height:20px;margin:2px auto;display:block}.nav-bar .nav-btn.active{background-color:#5A6378}.nav-bar .zoom-in .icon{background-position:0 -730px}.nav-bar .zoom-out .icon{background-position:0 -750px}.nav-bar .hand .icon{background-position:0 -770px;width:25px;height:25px;margin:0 auto}.nav-bar .camera .icon{background-position:0 -870px;width:25px;height:25px;margin:0 auto}.nav-bar .nav-trigger .icon{background-position:0 -845px;width:25px;height:25px;margin:0 auto}.nav-bar .zoom-pan{width:2px;height:70px;box-shadow:0 1px #E50000;position:relative;background:white;margin:3px auto;overflow:visible}.nav-bar .zoom-pan .origin{position:absolute;width:20px;height:8px;left:-9px;margin-top:-4px;background:transparent}.nav-bar .zoom-pan .origin:after{content:\' \';display:block;width:6px;height:2px;background:white;left:7px;top:3px;position:absolute}.nav-bar .zoom-pan .indicator{position:absolute;width:8px;height:8px;left:-3px;background:white;border-radius:100%;margin-top:-4px}.nav-previewer{background:#fff;width:140px;height:120px;position:absolute;left:45px;bottom:30px;box-shadow:0 0 8px rgba(0,0,0,0.2);border-radius:0 2px 2px 0;padding:1px;z-index:9;cursor:crosshair;transition:-webkit-transform 0.7s 0.1s ease;transition:transform 0.7s 0.1s ease}.nav-previewer.grab{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.hotbox{font-family:Arial, "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", sans-serif;position:absolute;left:0;top:0;overflow:visible}.hotbox .state{position:absolute;overflow:visible;display:none}.hotbox .state .center .button,.hotbox .state .ring .button{position:absolute;width:70px;height:70px;margin-left:-35px;margin-top:-35px;border-radius:100%;box-shadow:0 0 30px rgba(0,0,0,0.3)}.hotbox .state .center .label,.hotbox .state .center .key,.hotbox .state .ring .label,.hotbox .state .ring .key{display:block;text-align:center;line-height:1.4em;vertical-align:middle}.hotbox .state .center .label,.hotbox .state .ring .label{font-size:16px;margin-top:17px;color:black;font-weight:normal;line-height:1em}.hotbox .state .center .key,.hotbox .state .ring .key{font-size:12px;color:#999}.hotbox .state .ring-shape{position:absolute;left:-25px;top:-25px;border:25px solid rgba(0,0,0,0.3);border-radius:100%;box-sizing:content-box}.hotbox .state .top,.hotbox .state .bottom{position:absolute;white-space:nowrap}.hotbox .state .top .button,.hotbox .state .bottom .button{display:inline-block;padding:8px 15px;margin:0 10px;border-radius:15px;box-shadow:0 0 30px rgba(0,0,0,0.3);position:relative}.hotbox .state .top .button .label,.hotbox .state .bottom .button .label{font-size:14px;line-height:14px;vertical-align:middle;color:black;line-height:1em}.hotbox .state .top .button .key,.hotbox .state .bottom .button .key{font-size:12px;line-height:12px;vertical-align:middle;color:#999;margin-left:3px}.hotbox .state .top .button .key:before,.hotbox .state .bottom .button .key:before{content:\'(\'}.hotbox .state .top .button .key:after,.hotbox .state .bottom .button .key:after{content:\')\'}.hotbox .state .button{background:#F9F9F9;overflow:hidden;cursor:default}.hotbox .state .button .key,.hotbox .state .button .label{opacity:0.3}.hotbox .state .button.enabled{background:white}.hotbox .state .button.enabled .key,.hotbox .state .button.enabled .label{opacity:1}.hotbox .state .button.enabled:hover{background:#e87372}.hotbox .state .button.enabled:hover .label{color:white}.hotbox .state .button.enabled:hover .key{color:#fadfdf}.hotbox .state .button.enabled.selected{-webkit-animation:selected .1s ease;background:#e45d5c}.hotbox .state .button.enabled.selected .label{color:white}.hotbox .state .button.enabled.selected .key{color:#fadfdf}.hotbox .state .button.enabled.pressed,.hotbox .state .button.enabled:active{background:#FF974D}.hotbox .state .button.enabled.pressed .label,.hotbox .state .button.enabled:active .label{color:white}.hotbox .state .button.enabled.pressed .key,.hotbox .state .button.enabled:active .key{color:#fff0e6}.hotbox .state.active{display:block}@-webkit-keyframes selected{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}.hotbox-key-receiver{position:absolute;left:-999999px;top:-999999px;width:20px;height:20px;outline:none;margin:0}.mind-editor{position:absolute;top:91px;left:0;right:0;bottom:0}.km-editor{overflow:hidden;z-index:2}.km-editor>.mask{display:block;position:absolute;left:0;right:0;top:0;bottom:0;background-color:transparent}.km-editor>.receiver{position:absolute;background:white;outline:none;box-shadow:0 0 20px fadeout(black, 50%);left:0;top:0;padding:3px 5px;margin-left:-3px;margin-top:-5px;max-width:300px;width:auto;overflow:hidden;font-size:14px;line-height:1.4em;min-height:1.4em;box-sizing:border-box;overflow:hidden;word-break:break-all;word-wrap:break-word;border:none;-webkit-user-select:text;pointer-events:none;opacity:0;z-index:-1000}.km-editor>.receiver.debug{opacity:1;outline:1px solid green;background:none;z-index:0}.km-editor>.receiver.input{pointer-events:all;opacity:1;z-index:999;background:white;outline:none}div.minder-editor-container{position:absolute;top:40px;bottom:0;left:0;right:0;font-family:Arial, "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", sans-serif}.minder-editor{position:absolute;top:92px;left:0;right:0;bottom:0}.minder-viewer{position:absolute;top:0;left:0;right:0;bottom:0}.control-panel{position:absolute;top:0;right:0;width:250px;bottom:0;border-left:1px solid #CCC}.minder-divider{position:absolute;top:0;right:250px;bottom:0;width:2px;background-color:#fbfbfb;cursor:ew-resize}.hotbox .state .button.enabled.selected .key,.hotbox .state .ring .key{margin-top:5px;font-size:13px}.hotbox .state .bottom .button .label,.hotbox .state .top .button .label{font-weight:600}.hotbox .exp .ring .button .label{margin-top:28px;margin-left:-2px}.hotbox .exp .ring .button .key{display:none}\n',""])},CYm2:function(e,t,n){"use strict";n.r(t),n.d(t,"exportFreeMind",(function(){return m}));var o=[{jp:1,mp:"full-1"},{jp:2,mp:"full-2"},{jp:3,mp:"full-3"},{jp:4,mp:"full-4"},{jp:5,mp:"full-5"},{jp:6,mp:"full-6"},{jp:7,mp:"full-7"},{jp:8,mp:"full-8"}],i='<map version="1.0.1">\n',a='<icon BUILTIN="',r='"/>\n',s='<node CREATED="',l='" ID="',d='" TEXT="',c='">\n',u="</node>\n",p="</map>";function m(e){var t=e.exportJson(),n=i+function e(t){var n="";if(!t)return;if(n+=function(e){var t="",n=e.data;if(t+=s+n.created+l+n.id+d+n.text+c,n.priority){var i=o.find((function(e){return e.jp==n.priority}));i&&(t+=a+i.mp+r)}return t}(t),t.children&&t.children.length>0)for(var i=0;i<t.children.length;i++)n+=e(t.children[i]),n+=u;return n}(t.root)+u+p;try{var m=document.createElement("a"),h=new Blob(["\ufeff"+n],{type:"text/xml"});m.href=window.URL.createObjectURL(h),m.download=t.root.data.text+".mm",document.body.appendChild(m),m.click(),document.body.removeChild(m)}catch(e){alert(e)}}},FNhY:function(e,t,n){"use strict";n.r(t),n.d(t,"format",(function(){return i}));var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){return"object"!=(void 0===t?"undefined":o(t))&&(t=[].slice.call(arguments,1)),String(e).replace(/\{(\w+)\}/gi,(function(e,n){return t[n]||n}))}},GX2X:function(e,t,n){"use strict";n.r(t),n.d(t,"exportTextTree",(function(){return a}));var o="\r",i="\t";function a(e){var t=e.exportJson();try{var n=document.createElement("a"),o=new Blob(["\ufeff"+r(t.root,0)],{type:"text/plain"});n.href=window.URL.createObjectURL(o),n.download=t.root.data.text+".txt",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){alert(e)}}function r(e,t){var n="";return n+=function(e,t){for(var n="";t--;)n+=e;return n}(i,t=t||0),n+=e.data.text+o,e.children&&e.children.forEach((function(e){n+=r(e,t+1)})),n}},GkzL:function(e,t,n){"use strict";var o=n("rkfW");n.n(o).a},HRQ7:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"exportPNGImage",(function(){return r}));var o=window.URL||window.webkitURL||window;function i(e,t){try{var n=document.createElement("a");n.href=e,n.download=t+".png",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){alert(e)}}function a(e,t){return new Promise((function(t,n){var o=document.createElement("img");o.onload=function(){t(this)},o.onerror=function(e){n(e)},o.crossOrigin="",o.src=e}))}function r(t){var n=document.createElement("canvas"),r=n.getContext("2d"),s=t.getStyle("background").toString(),l=/url\((.+)\)/.exec(s),d=kity.Color.parse(s),c=function(t){var n,i,a,r,s=t.getPaper(),l=(s.container,t.getRenderContainer()),d=l.getRenderBox(),c=d.width+1,u=d.height+1;return n=s.shapeNode.getAttribute("transform"),s.shapeNode.setAttribute("transform","translate(0.5, 0.5)"),l.translate(-d.x,-d.y),i=s.container.innerHTML,l.translate(d.x,d.y),s.shapeNode.setAttribute("transform",n),(a=e(i).filter("svg")).attr({width:d.width+1,height:d.height+1,style:'font-family: Arial, "Microsoft Yahei","Heiti SC";'}),i=(i=(i=e("<div></div>").append(a).html()).replace(' xmlns="http://www.w3.org/2000/svg" xmlns:NS1="" NS1:ns1:xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:NS2="" NS2:xmlns:ns1=""',"")).replace(/&nbsp;/g,"&#xa0;"),r=new Blob([i],{type:"image/svg+xml"}),{width:c,height:u,dataUrl:o.createObjectURL(r),xml:i}}(t),u=c.width,p=c.height,m=c.dataUrl,h=20;function f(e,t){e.save(),e.fillStyle=t,e.fillRect(0,0,n.width,n.height),e.restore()}function b(e){try{return e.toDataURL("png")}catch(e){throw new Error("当前浏览器版本不支持导出 PNG 功能，请尝试升级到最新版本！")}}function g(e){var t=editor.minder.exportJson();return void 0!==window.canvg?new Promise((function(e){window.canvg(n,c.xml,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:h,offsetY:h,renderCallback:function(){i(b(n),t.root.data.text)}})})):a(m).then((function(e){!function(e,t,n,o){e.drawImage(t,n,o)}(r,e,h,h),o.revokeObjectURL(m),i(b(n),t.root.data.text)}))}n.width=u+2*h,n.height=p+2*h,l?a(l[1]).then((function(e){f(r,r.createPattern(e,"repeat")),g()})):(f(r,d.toString()),g())}}.call(this,n("EVdn"))},JAA7:function(e,t,n){var o;void 0===(o=function(e,t,n){function o(){var e="\ufeff",t={"application/km":"￿"},n={"\ufeff":"SPLITOR","￿":"application/km"};function o(t,n){if(!this.isPureText(n)){if(!this.whichMimeType(n))throw new Error("unknow mimetype!");n=this.getPureText(n)}return!1===t?n:t+e+n}this.registMimeTypeProtocol=function(e,o){if(o&&n[o])throw new Error("sing has registed!");if(e&&t[e])throw new Error("mimetype has registed!");n[o]=e,t[e]=o},this.getMimeTypeProtocol=function(e,n){var i=t[e]||!1;return void 0===n?o.bind(this,i):o(i,n)},this.getSpitor=function(){return e},this.getMimeType=function(e){return void 0!==e?n[e]||null:t}}return o.prototype.isPureText=function(e){return!~e.indexOf(this.getSpitor())},o.prototype.getPureText=function(e){return this.isPureText(e)?e:e.split(this.getSpitor())[1]},o.prototype.whichMimeType=function(e){return this.isPureText(e)?null:this.getMimeType(e.split(this.getSpitor())[0])},n.exports=function(){this.minder.supportClipboardEvent&&!kity.Browser.gecko&&(this.MimeType=new o)}}.call(t,n,t,e))||(e.exports=o)},JTCX:function(e,t,n){var o;void 0===(o=function(e,t,n){return n.exports=function(){var e=this.minder,t=this.hotbox;t.state("main").button({position:"top",label:"优先级",key:"P",next:"priority",enable:function(){return-1!=e.queryCommandState("priority")}});var n=t.state("priority");"123456789".replace(/./g,(function(t){n.button({position:"ring",label:"P"+t,key:t,action:function(){e.execCommand("Priority",t)}})})),n.button({position:"center",label:"移除",key:"Del",action:function(){e.execCommand("Priority",0)}}),n.button({position:"top",label:"返回",key:"esc",next:"back"})}}.call(t,n,t,e))||(e.exports=o)},JqqP:function(e,t,n){"use strict";function o(e){var t=e.exportJson();try{var n=document.createElement("a"),o=new Blob(["\ufeff"+JSON.stringify(t)],{type:"text/json"});n.href=window.URL.createObjectURL(o),n.download=t.root.data.text+".json",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){alert(e)}}n.r(t),n.d(t,"exportJson",(function(){return o}))},KSJf:function(e,t,n){"use strict";var o=n("stce");n.n(o).a},MPEW:function(e,t,n){var o;void 0===(o=function(e,t,n){return n.exports=function(){var e=this.minder,t=this.hotbox;t.state("main").button({position:"top",label:"进度",key:"G",next:"progress",enable:function(){return-1!=e.queryCommandState("progress")}});var n=t.state("progress");"012345678".replace(/./g,(function(t){n.button({position:"ring",label:"G"+t,key:t,action:function(){e.execCommand("Progress",parseInt(t)+1)}})})),n.button({position:"center",label:"移除",key:"Del",action:function(){e.execCommand("Progress",0)}}),n.button({position:"top",label:"返回",key:"esc",next:"back"})}}.call(t,n,t,e))||(e.exports=o)},OHcd:function(e,t,n){var o;void 0===(o=function(e,t,n){return n.exports=window.kityminder.Minder}.call(t,n,t,e))||(e.exports=o)},RIOO:function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("OHcd");return o.exports=function(){var e=new i({enableKeyReceiver:!1,enableAnimation:!0});e.renderTo(this.selector),e.setTheme(null),e.select(e.getRoot(),!0),e.execCommand("text","中心主题"),this.minder=e}}.call(t,n,t,e))||(e.exports=o)},"RVn+":function(e,t,n){var o;void 0===(o=function(e,t,o){n("Bbjp");var i=new(n("8zQj"))("input");return o.exports=function(){var e=this.fsm,t=this.minder,n=this.hotbox,o=this.receiver,a=o.element,r=window.kity.Browser.gecko;function s(){var n=t.getSelectedNode();if(n){var i=a;if(a.innerText="","bold"===n.getData("font-weight")){var s=document.createElement("b");i.appendChild(s),i=s}if("italic"===n.getData("font-style")){var l=document.createElement("i");i.appendChild(l),i=l}i.innerText=t.queryCommandValue("text"),r&&o.fixFFCaretDisappeared(),e.jump("input","input-request"),o.selectAll()}}function l(){var e=t.getSelectedNode();if(e){var n=e.getData("font-size")||e.getStyle("font-size");a.style.fontSize=n+"px",a.style.minWidth=0,a.style.minWidth=a.clientWidth+"px",a.style.fontWeight=e.getData("font-weight")||"",a.style.fontStyle=e.getData("font-style")||"",a.classList.add("input"),a.focus()}}function d(){a.classList.remove("input"),o.selectAll()}function c(){var e=c,n=t.getSelectedNode();n&&(e.timer||(e.timer=setTimeout((function(){var t=n.getRenderBox("TextRenderer");a.style.left=Math.round(t.x)+"px",a.style.top=(i.flaged?Math.round(t.bottom+30):Math.round(t.y))+"px",e.timer=0}))))}!function(){i.flaged&&a.classList.add("debug");a.onmousedown=function(e){e.stopPropagation()},t.on("layoutallfinish viewchange viewchanged selectionchange",(function(t){"viewchange"==t.type&&"input"!=e.state()||c()})),c()}(),e.when("* -> input",l),e.when("input -> *",(function(e,n,o){switch(o){case"input-cancel":return d();case"input-commit":default:return function(){var e=[].slice.call(a.childNodes);setTimeout((function(){a.innerHTML=""}),0);var n=t.getSelectedNode();if(e=function(e){for(var n,o,i,a="",r=/\S/,s=new RegExp("( |"+String.fromCharCode(160)+")"),l=document.createElement("br"),c=!1,u=!1,p=0,m=e.length;p<m;p++)switch(n=e[p],Object.prototype.toString.call(n)){case"[object HTMLBRElement]":a+="\n";break;case"[object Text]":if(n=n.textContent.replace("&nbsp;"," "),r.test(n))a+=n;else for(i=n.length;i--;)s.test(n[i])?a+=" ":"\t"===n[i]&&(a+="\t");break;case"[object HTMLElement]":switch(n.nodeName){case"B":c=!0;break;case"I":u=!0}[].splice.apply(e,[p,1].concat([].slice.call(n.childNodes))),m=e.length,p--;break;case"[object HTMLSpanElement]":[].splice.apply(e,[p,1].concat([].slice.call(n.childNodes))),m=e.length,p--;break;case"[object HTMLImageElement]":n.src&&/http(|s):\/\//.test(n.src)&&t.execCommand("Image",n.src,n.alt);break;case"[object HTMLDivElement]":o=[];var h=0;for(m=n.childNodes.length;h<m;h++)o.push(n.childNodes[h]);o.push(l),[].splice.apply(e,[p,1].concat(o)),m=e.length,p--;break;default:if(n&&n.childNodes.length){for(o=[],h=0,m=n.childNodes.length;h<m;h++)o.push(n.childNodes[h]);o.push(l),[].splice.apply(e,[p,1].concat(o)),m=e.length,p--}else n&&void 0!==n.textContent?a+=n.textContent:a+=""}return a=(a=a.replace(/^\n*|\n*$/g,"")).replace(new RegExp("(\n|\r|\n\r)( |"+String.fromCharCode(160)+"){4}","g"),"$1\t"),t.getSelectedNode().setText(a),c?t.queryCommandState("bold")||t.execCommand("bold"):t.queryCommandState("bold")&&t.execCommand("bold"),u?t.queryCommandState("italic")||t.execCommand("italic"):t.queryCommandState("italic")&&t.execCommand("italic"),d(),a}(e),function(e,n){try{t.decodeData("text",n).then((function(n){!function e(t,n,o){var i=n.data;t.setText(i.text||"");for(var a=n.children||[],r=0;r<a.length;r++)e(o.createNode(null,t),a[r],o);return t}(e,n,t),t.fire("contentchange"),t.getRoot().renderTree(),t.layout(300)}))}catch(e){if(t.fire("contentchange"),t.getRoot().renderTree(),"Error: Invalid local format"!==e.toString())throw e}}(n,e),"root"==n.type){var o=t.getRoot().getText();t.fire("initChangeRoot",{text:o})}}()}})),o.onblur((function(t){"input"==e.state()&&e.jump("normal","input-commit")})),t.on("beforemousedown",(function(){"input"==e.state()&&e.jump("normal","input-commit")})),t.on("dblclick",(function(){t.getSelectedNode()&&"readonly"!==t._status&&s()})),n.state("main").button({position:"center",label:"编辑",key:"F2",enable:function(){return-1!=t.queryCommandState("text")},action:s}),this.editText=s}}.call(t,n,t,e))||(e.exports=o)},Shwk:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'body{user-select:none;min-width:1280px;height:360px}*[disabled]{opacity:0.5}.link-dropdown-list,.img-dropdown-list,.remark-dropdown-list,.selection-dropdown-list,.expand-dropdown-list{font-size:12px}.mold-dropdown-list{width:126px;height:170px;font-size:12px}.mold-dropdown-list .mold-icons{background-image:url("/static/minder/mold.png");background-repeat:no-repeat}.mold-dropdown-list .dropdown-item{display:inline-block;width:50px;height:40px;padding:0;margin:5px}.mold-dropdown-list .mold-1{background-position:0px 0}.mold-dropdown-list .mold-2{background-position:-50px 0}.mold-dropdown-list .mold-3{background-position:-100px 0}.mold-dropdown-list .mold-4{background-position:-150px 0}.mold-dropdown-list .mold-5{background-position:-200px 0}.mold-dropdown-list .mold-6{background-position:-250px 0}.theme-dropdown-list{width:100px;height:200px;font-size:12px}.theme-dropdown-list .mold-icons{background-repeat:no-repeat}.theme-dropdown-list .dropdown-item{display:inline-block;width:50px;height:40px;padding:0;margin:5px}.expand-dropdown-list .dropdown-item{line-height:25px}.selection-dropdown-list .dropdown-item{line-height:25px}header{font-size:12px}header>ul{display:flex;align-items:center;height:30px;margin:0;padding:0;background-color:#e1e1e1}header>ul li{line-height:30px;display:inline-flex;width:80px;height:100%;list-style:none}header>ul li a{font-size:14px;width:inherit;text-align:center;text-decoration:none;color:#337ab7}header>ul li a:hover,header>ul li a:focus{color:#23527c}header>ul li.selected{background:#fff}header>ul li.selected a{color:#000}#mind_tab-content{height:61px;border-bottom:1px solid #999}#mind_tab-content .tab-icons{background-image:url("/static/minder/icons.png");background-repeat:no-repeat}.mind-tab-panel{width:100%;height:100%}.mind-tab-panel .menu-container{display:flex;height:inherit}.mind-tab-panel .menu-container>div{display:inline-flex;overflow:hidden;align-items:center;flex-wrap:wrap;height:100%;border-right:1px dashed #eee}.mind-tab-panel .menu-container>div:last-of-type{border-right:none}.mind-tab-panel .menu-btn{display:inline-flex;cursor:pointer;display:flex;justify-content:center;align-items:center}.mind-tab-panel .menu-btn:not([disabled]):hover{background-color:#eee}.mind-tab-panel i{display:inline-block;width:20px;height:20px}.mind-tab-panel .do-group{width:40px;height:100%;padding:0 5px}.mind-tab-panel .do-group p{height:50%;margin:0;display:flex;justify-content:center;align-items:center}.mind-tab-panel .do-group .undo i{background-position:0 -1240px}.mind-tab-panel .do-group .redo i{background-position:0 -1220px}.mind-tab-panel .insert-group{width:165px}.mind-tab-panel .insert-group>div{height:50%;margin:0 5px}.mind-tab-panel .insert-group .insert-sibling-box i{background-position:0 -20px}.mind-tab-panel .insert-group .insert-parent-box i{background-position:0 -40px}.mind-tab-panel .edit-del-group,.mind-tab-panel .move-group{width:70px;display:flex;justify-content:center;align-items:center}.mind-tab-panel .move-group .move-up i{background-position:0 -280px}.mind-tab-panel .move-group .move-down i{background-position:0 -300px}.mind-tab-panel .edit-del-group .edit i{background-position:0 -60px}.mind-tab-panel .edit-del-group .del i{background-position:0 -80px}.mind-tab-panel .attachment-group{width:185px;display:flex;justify-content:center;align-items:center}.mind-tab-panel .attachment-group .el-dropdown-link{font-size:12px}.mind-tab-panel .attachment-group button{font-size:inherit;width:45px;height:20px;padding:0;background-repeat:no-repeat;background-position:right;background:transparent;border:none;outline:none;display:flex;justify-content:center;align-items:center}.mind-tab-panel .attachment-group button span{margin-left:15px}.mind-tab-panel .attachment-group button:hover{background-color:#eee}.mind-tab-panel .attachment-group>div{font-size:inherit;flex-wrap:wrap;width:60px;height:100%;display:flex;justify-content:center;align-items:center}.mind-tab-panel .attachment-group .insert{height:25px;background-repeat:no-repeat}.mind-tab-panel .attachment-group .link .insert{background-position:50% -100px}.mind-tab-panel .attachment-group .img .insert{background-position:50% -125px}.mind-tab-panel .attachment-group .remark .insert{background-position:50% -1150px}.mind-tab-panel .attachment-group .el-dropdown{cursor:default}.mind-tab-panel .progress-group,.mind-tab-panel .sequence-group{width:135px;display:flex;justify-content:center;align-items:center}.mind-tab-panel .progress-group ul,.mind-tab-panel .sequence-group ul{width:120px;margin:0;padding:0;list-style:none}.mind-tab-panel .progress-group ul li,.mind-tab-panel .sequence-group ul li{display:inline-block;width:20px;height:20px;margin:2px}.mind-tab-panel .sequence-group li{background-image:url("/static/minder/iconpriority.png")}.mind-tab-panel .sequence-group .sequence-0{background-position:0 20px}.mind-tab-panel .sequence-group .sequence-1{background-position:0 0px}.mind-tab-panel .sequence-group .sequence-2{background-position:0 -20px}.mind-tab-panel .sequence-group .sequence-3{background-position:0 -40px}.mind-tab-panel .sequence-group .sequence-4{background-position:0 -60px}.mind-tab-panel .sequence-group .sequence-5{background-position:0 -80px}.mind-tab-panel .sequence-group .sequence-6{background-position:0 -100px}.mind-tab-panel .sequence-group .sequence-7{background-position:0 -120px}.mind-tab-panel .sequence-group .sequence-8{background-position:0 -140px}.mind-tab-panel .sequence-group .sequence-9{background-position:0 -160px}.mind-tab-panel .progress-group li{background-image:url("/static/minder/iconprogress.png")}.mind-tab-panel .progress-group .progress-0{background-position:0 20px}.mind-tab-panel .progress-group .progress-1{background-position:0 0px}.mind-tab-panel .progress-group .progress-2{background-position:0 -20px}.mind-tab-panel .progress-group .progress-3{background-position:0 -40px}.mind-tab-panel .progress-group .progress-4{background-position:0 -60px}.mind-tab-panel .progress-group .progress-5{background-position:0 -80px}.mind-tab-panel .progress-group .progress-6{background-position:0 -100px}.mind-tab-panel .progress-group .progress-7{background-position:0 -120px}.mind-tab-panel .progress-group .progress-8{background-position:0 -140px}.mind-tab-panel .progress-group .progress-9{background-position:0 -160px}.mind-tab-panel .mold-group{width:80px;display:flex;justify-content:center;align-items:center}.mind-tab-panel .mold-group .mold-icons{background-image:url("/static/minder/mold.png");background-repeat:no-repeat}.mind-tab-panel .mold-group .mold-1{background-position:0px 0}.mind-tab-panel .mold-group .mold-2{background-position:-50px 0}.mind-tab-panel .mold-group .mold-3{background-position:-100px 0}.mind-tab-panel .mold-group .mold-4{background-position:-150px 0}.mind-tab-panel .mold-group .mold-5{background-position:-200px 0}.mind-tab-panel .mold-group .mold-6{background-position:-250px 0}.mind-tab-panel .mold-group .dropdown-toggle{display:block;width:50px;height:50px;margin:5px 0 0 auto}.mind-tab-panel .mold-group .dropdown-toggle span{display:inline-block;width:100%;height:100%}.mind-tab-panel .mold-group .dropdown-toggle span i{position:absolute;right:-20px;bottom:-5px}.mind-tab-panel .arrange-group{width:65px}.mind-tab-panel .arrange-group .arrange{flex-wrap:wrap;display:flex;justify-content:center;align-items:center}.mind-tab-panel .arrange-group .tab-icons{display:inline-block;width:25px;height:25px;margin:0;background-repeat:no-repeat;background-position:0 -150px}.mind-tab-panel .style-group{width:150px}.mind-tab-panel .style-group .clear-style-btn{flex-wrap:wrap;width:65px;display:flex;justify-content:center;align-items:center}.mind-tab-panel .style-group .clear-style-btn .tab-icons{display:inline-block;width:25px;height:25px;margin:0;background-repeat:no-repeat;background-position:0 -175px}.mind-tab-panel .style-group .copy-paste-panel{width:70px}.mind-tab-panel .style-group .copy-paste-panel .tab-icons{display:inline-block;width:20px;height:20px}.mind-tab-panel .style-group .copy-paste-panel .copy-style .tab-icons{background-position:0 -200px}.mind-tab-panel .style-group .copy-paste-panel .paste-style .tab-icons{background-position:0 -220px}.mind-tab-panel .font-group{width:250px}.mind-tab-panel .font-group *{font-size:12px}.mind-tab-panel .font-group input{height:30px !important}.mind-tab-panel .font-group .font-family-select input{width:150px}.mind-tab-panel .font-group .font-family-select .el-input__suffix{top:12px}.mind-tab-panel .font-group .font-size-select{margin-left:5px}.mind-tab-panel .font-group .font-size-select input{width:80px}.mind-tab-panel .font-group .font-size-select .el-input__suffix{top:12px}.mind-tab-panel .font-group .font-bold,.mind-tab-panel .font-group .font-italic{display:inline-block;width:20px;height:20px;margin:0 3px}.mind-tab-panel .font-group .font-bold{background-position:0 -245px}.mind-tab-panel .font-group .font-italic{background-position:0 -265px}.mind-tab-panel .expand-group,.mind-tab-panel .selection-group{width:60px;display:flex;justify-content:center;align-items:center;margin:0 5px}.mind-tab-panel .expand-group button,.mind-tab-panel .selection-group button{border:none;outline:none}.mind-tab-panel .expand-group span,.mind-tab-panel .selection-group span{font-size:12px}.mind-tab-panel .expand-group .expand{width:40px;height:25px;background-position:center -995px}.mind-tab-panel .expand-group i{font-size:12px}.mind-tab-panel .selection-group .selection{width:40px;height:25px;background-position:7px -1175px}.mind-tab-panel .selection-group i{font-size:12px}\n',""])},Vtdi:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"count",(function(){return I})),n.d(o,"working",(function(){return B})),n.d(o,"config",(function(){return H})),n.d(o,"getMinder",(function(){return U})),n.d(o,"getEditor",(function(){return J}));var i=n("oCYn"),a={name:"app"},r=(n("A0++"),n("KHd+")),s=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)}),[],!1,null,null,null).exports,l=n("jE9Z"),d=n("L2JU"),c={name:"insert_box",data:function(){return{}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)(["getMinder"]),{disabled1:function(){var e=this.getMinder,t=!1;return e.queryCommandState&&(t=-1===e.queryCommandState("AppendChildNode")),t},disabled2:function(){var e=this.getMinder,t=!1;return e.queryCommandState&&(t=-1===e.queryCommandState("AppendParentNode")),t},disabled3:function(){var e=this.getMinder,t=!1;return e.queryCommandState&&(t=-1===e.queryCommandState("AppendSiblingNode")),t}}),methods:{appendChildNode:function(){var e=this.getMinder;-1===e.queryCommandState("AppendChildNode")||e.execCommand("AppendChildNode")},appendParentNode:function(){var e=this.getMinder;-1===e.queryCommandState("AppendParentNode")||e.execCommand("AppendParentNode")},appendSiblingNode:function(){var e=this.getMinder;-1===e.queryCommandState("AppendSiblingNode")||e.execCommand("AppendSiblingNode")}}},u=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"insert-group"},[n("div",{staticClass:"insert-child-box menu-btn",attrs:{disabled:e.disabled1},on:{click:e.appendChildNode}},[n("i",{staticClass:"tab-icons"}),e._v(" "),n("span",[e._v("插入下级主题")])]),e._v(" "),n("div",{staticClass:"insert-parent-box menu-btn",attrs:{disabled:e.disabled2},on:{click:e.appendParentNode}},[n("i",{staticClass:"tab-icons"}),e._v(" "),n("span",[e._v("插入上级主题")])]),e._v(" "),n("div",{staticClass:"insert-sibling-box menu-btn",attrs:{disabled:e.disabled3},on:{click:e.appendSiblingNode}},[n("i",{staticClass:"tab-icons"}),e._v(" "),n("span",[e._v("插入同级主题")])])])}),[],!1,null,null,null).exports,p={name:"move_box",computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"}),{disabled1:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("ArrangeUp")},disabled2:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("ArrangeDown")}}),methods:{ArrangeUp:function(){-1===this.minder.queryCommandState("ArrangeUp")||this.minder.execCommand("ArrangeUp")},ArrangeDown:function(){-1===this.minder.queryCommandState("ArrangeDown")||this.minder.execCommand("ArrangeDown")}}},m=Object(r.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"move-group "},[n("div",{staticClass:"move-up menu-btn",attrs:{disabled:e.disabled1},on:{click:e.ArrangeUp}},[n("i",{staticClass:"tab-icons"}),e._v(" "),n("span",[e._v("上移")])]),e._v(" "),n("div",{staticClass:"move-down menu-btn",attrs:{disabled:e.disabled2},on:{click:e.ArrangeDown}},[n("i",{staticClass:"tab-icons"}),e._v(" "),n("span",[e._v("下移")])])])}),[],!1,null,null,null).exports,h={name:"edit_del",computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder",editor:"getEditor"}),{disabled1:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("text")},disabled2:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("RemoveNode")}}),methods:{edit:function(){-1===this.minder.queryCommandState("text")||this.editNode()},del:function(){-1===this.minder.queryCommandState("RemoveNode")||this.minder.execCommand("RemoveNode")},editNode:function(){var e=this.editor,t=e.receiver.element,n=e.fsm,o=e.receiver;t.innerText=this.minder.queryCommandValue("text"),n.jump("input","input-request"),o.selectAll()}}},f=Object(r.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-del-group"},[n("div",{staticClass:"edit menu-btn",attrs:{disabled:e.disabled1,title:"编辑"},on:{click:e.edit}},[n("i",{staticClass:"tab-icons"}),e._v(" "),n("span",[e._v("编辑")])]),e._v(" "),n("div",{staticClass:"del menu-btn",attrs:{disabled:e.disabled2,title:"删除"},on:{click:e.del}},[n("i",{staticClass:"tab-icons"}),e._v(" "),n("span",[e._v("删除")])])])}),[],!1,null,null,null).exports,b={name:"sequence_box",data:function(){return{items:[{id:"0"},{id:"1"},{id:"2"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"}]}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"}),{commandDisabled:function(){var e=this.minder;return e.on&&e.on("interactchange",(function(){this.commandValue=e.queryCommandValue("priority")})),e.queryCommandState&&-1===e.queryCommandState("priority")}}),methods:{execCommand:function(e){this.commandDisabled||this.minder.execCommand("priority",e)},classArray:function(e){return[{active:this.minder.queryCommandValue&&this.minder.queryCommandValue("priority")==e},"sequence-"+e]},title:function(e){switch(e){case 0:return"移除优先级";default:return"优先级"+e}}}},g=Object(r.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sequence-group"},[n("ul",{attrs:{disabled:e.commandDisabled}},e._l(e.items,(function(t,o){return n("li",{staticClass:"menu-btn",class:e.classArray(o),attrs:{title:e.title(o)},on:{click:function(t){return e.execCommand(o)}}})})),0)])}),[],!1,null,null,null).exports,v={name:"progress_box",data:function(){return{items:[{text:"0"},{text:"1"},{text:"2"},{text:"3"},{text:"4"},{text:"5"},{text:"6"},{text:"7"},{text:"8"},{text:"9"}]}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"}),{commandDisabled:function(){var e=this.minder;return e.on&&e.on("interactchange",(function(){this.commandValue=e.queryCommandValue("progress")})),e.queryCommandState&&-1===e.queryCommandState("progress")}}),methods:{execCommand:function(e){this.commandDisabled||this.minder.execCommand("progress",e)},classArray:function(e){return[{active:this.minder.queryCommandValue&&this.minder.queryCommandValue("progress")==e},"progress-"+e]},title:function(e){switch(e){case 0:return"移除进度";case 1:return"未开始";case 9:return"全部完成";default:return"完成"+(e-1)+"/8"}}},created:function(){}},x=Object(r.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"progress-group"},[n("ul",[n("ul",{attrs:{disabled:e.commandDisabled}},e._l(e.items,(function(t,o){return n("li",{staticClass:"menu-btn",class:e.classArray(o),attrs:{title:e.title(o)},on:{click:function(t){return e.execCommand(o)}}})})),0)])])}),[],!1,null,null,null).exports,y={name:"expand",computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"})),methods:{handleCommand:function(e){this.minder.execCommand&&this.minder.execCommand("ExpandToLevel",e)},expandAll:function(){this.minder.execCommand&&minder.execCommand("ExpandToLevel",9999)}}},w={name:"selection",methods:{selectAll:function(){var e=[];minder.getRoot().traverse((function(t){e.push(t)})),minder.select(e,!0),minder.fire("receiverfocus")},selectRevert:function(){var e=minder.getSelectedNodes(),t=[];minder.getRoot().traverse((function(n){-1==e.indexOf(n)&&t.push(n)})),minder.select(t,!0),minder.fire("receiverfocus")},selectSiblings:function(){var e=minder.getSelectedNodes(),t=[];e.forEach((function(e){e.parent&&e.parent.children.forEach((function(e){-1==t.indexOf(e)&&t.push(e)}))})),minder.select(t,!0),minder.fire("receiverfocus")},selectLevel:function(){var e=minder.getSelectedNodes().map((function(e){return e.getLevel()})),t=[];minder.getRoot().traverse((function(n){-1!=e.indexOf(n.getLevel())&&t.push(n)})),minder.select(t,!0),minder.fire("receiverfocus")},selectPath:function(){var e=minder.getSelectedNodes(),t=[];e.forEach((function(e){for(;e&&-1==t.indexOf(e);)t.push(e),e=e.parent})),minder.select(t,!0),minder.fire("receiverfocus")},selectTree:function(){var e=minder.getSelectedNodes(),t=[];e.forEach((function(e){e.traverse((function(e){-1==t.indexOf(e)&&t.push(e)}))})),minder.select(t,!0),minder.fire("receiverfocus")},handleCommand:function(e){switch(~~e){case 1:this.selectRevert();break;case 2:this.selectSiblings();break;case 3:this.selectLevel();break;case 4:this.selectPath();break;case 5:this.selectTree()}}}},k={name:"edit_menu",components:{insertBox:u,moveBox:m,editDel:f,sequenceBox:g,progressBox:x,expand:Object(r.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"expand-group"},[n("el-button",{staticClass:"tab-icons expand",on:{click:e.expandAll}}),e._v(" "),n("el-row",{staticClass:"block-col-1"},[n("el-col",{attrs:{span:24}},[n("el-dropdown",{staticClass:"dropdown-toggle menu-btn",attrs:{trigger:"click","hide-on-click":!0},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link "},[e._v("\r\n            展开\r\n            "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{staticClass:"expand-dropdown-list",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"expand-1 dropdown-item ",attrs:{command:"1"}},[e._v("展开到一级节点")]),e._v(" "),n("el-dropdown-item",{staticClass:"expand-2 dropdown-item ",attrs:{command:"2"}},[e._v("展开到二级节点")]),e._v(" "),n("el-dropdown-item",{staticClass:"expand-3 dropdown-item ",attrs:{command:"3"}},[e._v("展开到三级节点")]),e._v(" "),n("el-dropdown-item",{staticClass:"expand-4 dropdown-item ",attrs:{command:"4"}},[e._v("展开到四级节点")]),e._v(" "),n("el-dropdown-item",{staticClass:"expand-5 dropdown-item ",attrs:{command:"5"}},[e._v("展开到五级节点")]),e._v(" "),n("el-dropdown-item",{staticClass:"expand-6 dropdown-item ",attrs:{command:"6"}},[e._v("展开到六级节点")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,selection:Object(r.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"selection-group"},[n("el-button",{staticClass:"tab-icons selection",on:{click:e.selectAll}}),e._v(" "),n("el-row",{staticClass:"block-col-1"},[n("el-col",{attrs:{span:24}},[n("el-dropdown",{staticClass:"dropdown-toggle menu-btn",attrs:{trigger:"click","hide-on-click":!0},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link "},[e._v("\r\n            全选\r\n            "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{staticClass:"selection-dropdown-list",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"selection-1 dropdown-item",attrs:{command:"1"}},[e._v("反选")]),e._v(" "),n("el-dropdown-item",{staticClass:"selection-2 dropdown-item",attrs:{command:"2"}},[e._v("选择兄弟节点")]),e._v(" "),n("el-dropdown-item",{staticClass:"selection-3 dropdown-item",attrs:{command:"3"}},[e._v("选择同级节点")]),e._v(" "),n("el-dropdown-item",{staticClass:"selection-4 dropdown-item",attrs:{command:"4"}},[e._v("选择路径")]),e._v(" "),n("el-dropdown-item",{staticClass:"selection-5 dropdown-item",attrs:{command:"5"}},[e._v("选择子树")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}},C=Object(r.a)(k,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"menu-container"},[t("expand"),this._v(" "),t("selection"),this._v(" "),t("insert-box"),this._v(" "),t("move-box"),this._v(" "),t("edit-del"),this._v(" "),t("sequence-box"),this._v(" "),t("progress-box")],1)}),[],!1,null,null,null).exports,S={name:"mold",data:function(){return{mold_index:1}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"}),{class_mold_index:function(){return"mold-"+this.mold_index},disabled:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("template")},templateList:function(){return kityminder.Minder.getTemplateList()}}),methods:{handleCommand:function(e){this.mold_index=1+~~e,this.minder.execCommand("template",Object.keys(this.templateList)[e])}}},_=Object(r.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mold-group",attrs:{disabled:e.disabled}},[n("el-row",{staticClass:"block-col-1"},[n("el-col",{attrs:{span:24}},[n("el-dropdown",{staticClass:"dropdown-toggle mold-icons menu-btn",class:e.class_mold_index,attrs:{trigger:"click","hide-on-click":!0},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link "},[n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{staticClass:"mold-dropdown-list",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"mold-1 dropdown-item mold-icons",attrs:{command:"0"}}),e._v(" "),n("el-dropdown-item",{staticClass:"mold-2 dropdown-item mold-icons",attrs:{command:"1"}}),e._v(" "),n("el-dropdown-item",{staticClass:"mold-3 dropdown-item mold-icons",attrs:{command:"2"}}),e._v(" "),n("el-dropdown-item",{staticClass:"mold-4 dropdown-item mold-icons",attrs:{command:"3"}}),e._v(" "),n("el-dropdown-item",{staticClass:"mold-5 dropdown-item mold-icons",attrs:{command:"4"}}),e._v(" "),n("el-dropdown-item",{staticClass:"mold-6 dropdown-item mold-icons",attrs:{command:"5"}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,O={name:"arrange",computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"}),{disabled:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("resetlayout")}}),methods:{resetlayout:function(){-1===this.minder.queryCommandState("resetlayout")||this.minder.execCommand("resetlayout")}}},E=Object(r.a)(O,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arrange-group"},[t("div",{staticClass:"arrange menu-btn",attrs:{disabled:this.disabled},on:{click:this.resetlayout}},[t("span",{staticClass:"tab-icons"}),this._v(" "),t("span",{staticClass:"label"},[this._v("整理布局")])])])}),[],!1,null,null,null).exports,j={name:"style_opreation",computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"}),{disabled1:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("clearstyle")},disabled2:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("copystyle")},disabled3:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("pastestyle")}}),methods:{clearstyle:function(){-1===this.minder.queryCommandState("clearstyle")||this.minder.execCommand("clearstyle")},copystyle:function(){-1===this.minder.queryCommandState("copystyle")||this.minder.execCommand("copystyle")},pastestyle:function(){-1===this.minder.queryCommandState("pastestyle")||this.minder.execCommand("pastestyle")}}},q=Object(r.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"style-group"},[n("div",{staticClass:"clear-style-btn menu-btn",attrs:{disabled:e.disabled1},on:{click:e.clearstyle}},[n("span",{staticClass:"tab-icons"}),e._v(" "),n("span",{staticClass:"label"},[e._v("清除样式")])]),e._v(" "),n("div",{staticClass:"copy-paste-panel",on:{click:e.copystyle}},[n("div",{staticClass:"copy-style menu-btn",attrs:{disabled:e.disabled2}},[n("span",{staticClass:"tab-icons"}),e._v(" "),n("span",{staticClass:"label"},[e._v("复制样式")])]),e._v(" "),n("div",{staticClass:"paste-style menu-btn",attrs:{disabled:e.disabled3},on:{click:e.pastestyle}},[n("span",{staticClass:"tab-icons"}),e._v(" "),n("span",{staticClass:"label"},[e._v("粘贴样式")])])])])}),[],!1,null,null,null).exports,N={data:function(){return{fontFamilys:[{id:1,value:"宋体,SimSun",name:"宋体"},{id:2,value:"微软雅黑,Microsoft YaHei",name:"微软雅黑"},{id:3,value:"楷体,楷体_GB2312,SimKai",name:"楷体"},{id:4,value:"黑体, SimHei",name:"黑体"},{id:5,value:"隶书, SimLi",name:"隶书"},{id:6,value:"andale mono",name:"Andale Mono"},{id:7,value:"arial,helvetica,sans-serif",name:"Arial"},{id:8,value:"arial black,avant garde",name:"arialBlack"},{id:9,value:"comic sans ms",name:"comic Sans Ms"},{id:10,value:"impact,chicago",name:"Impact"},{id:11,value:"times new roman",name:"times New Roman"},{id:12,value:"sans-serif",name:"Sans-Serif"}],fontSizes:[{id:1,value:10,label:10},{id:2,value:12,label:12},{id:3,value:16,label:16},{id:4,value:18,label:18},{id:5,value:24,label:24},{id:6,value:32,label:32},{id:7,value:48,label:48}],fontFamilyDefaultValue:"字体",fontSizeDefaultValue:"字号"}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(d.c)({minder:"getMinder"}),{currentTheme:function(){return this.minder.getThemeItems()},disabledFont:function(){var e=this.minder.queryCommandValue&&this.minder.queryCommandValue("fontfamily");return this.fontFamilyDefaultValue=e||"字体",this.minder.queryCommandState&&-1===this.minder.queryCommandState("fontfamily")},disabledFontSize:function(){return this.fontSizeDefaultValue=this.minder.queryCommandValue&&this.minder.queryCommandValue("fontsize")||"字号",this.minder.queryCommandState&&-1===this.minder.queryCommandState("fontsize")},disabledBold:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("bold")},disabledItalic:function(){return this.minder.queryCommandState&&-1===this.minder.queryCommandState("italic")},boldSelected:function(){return this.minder.queryCommandState&&1==this.minder.queryCommandState("bold")},italicSelected:function(){return this.minder.queryCommandState&&1==this.minder.queryCommandState("italic")}}),methods:{execCommandFontFamily:function(e){"字体"!=e&&this.minder.execCommand("fontfamily",e)},execCommandFontSize:function(e){"number"==typeof e&&this.minder.execCommand("fontsize",e)},execCommandFontStyle:function(e){var t=this.minder;switch(e){case"bold":-1===t.queryCommandState("bold")||t.execCommand("bold");break;case"italic":-1===t.queryCommandState("italic")||t.execCommand("italic")}}}},T={name:"view_menu",components:{mold:_,arrange:E,styleOperation:q,fontOperation:Object(r.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"font-group"},[n("el-select",{staticClass:"font-family-select",attrs:{placeholder:"字体",disabled:e.disabledFont},on:{change:e.execCommandFontFamily},model:{value:e.fontFamilyDefaultValue,callback:function(t){e.fontFamilyDefaultValue=t},expression:"fontFamilyDefaultValue"}},e._l(e.fontFamilys,(function(e){return n("el-option",{key:e.id,style:{"font-family":e.value},attrs:{label:e.name,value:e.value}})})),1),e._v(" "),n("el-select",{staticClass:"font-size-select",attrs:{placeholder:"字号",disabled:e.disabledFontSize},on:{change:e.execCommandFontSize},model:{value:e.fontSizeDefaultValue,callback:function(t){e.fontSizeDefaultValue=t},expression:"fontSizeDefaultValue"}},e._l(e.fontSizes,(function(e){return n("el-option",{key:e.id,style:{"font-size":e.value+"px",height:2*e.value+"px","line-height":2*e.value+"px",padding:0},attrs:{label:e.label,value:e.value}})})),1),e._v(" "),n("span",{staticClass:"font-bold menu-btn tab-icons",class:{selected:e.boldSelected},attrs:{disabled:e.disabledBold},on:{click:function(t){return e.execCommandFontStyle("bold")}}}),e._v(" "),n("span",{staticClass:"font-italic menu-btn tab-icons",class:{selected:e.italicSelected},attrs:{disabled:e.disabledItalic},on:{click:function(t){return e.execCommandFontStyle("italic")}}})],1)}),[],!1,null,null,null).exports}},M={name:"headerVue",data:function(){return{switchShow:{showEditMenu:!0,showViewMenu:!1}}},components:{editMenu:C,viewMenu:Object(r.a)(T,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"menu-container"},[t("mold"),this._v(" "),t("arrange"),this._v(" "),t("styleOperation"),this._v(" "),t("fontOperation")],1)}),[],!1,null,null,null).exports},methods:{showMenu:function(e){for(var t in this.switchShow)this.switchShow.hasOwnProperty(t)&&(this.switchShow[t]=!1);this.switchShow[e.target.className.replace("btn-","")]=!0}}},A=(n("KSJf"),Object(r.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("ul",{attrs:{id:"mind_tab"}},[n("li",{class:{selected:e.switchShow.showEditMenu}},[n("a",{staticClass:"btn-showEditMenu",attrs:{href:"javascritp:;"},on:{click:e.showMenu}},[e._v("思维导图")])]),e._v(" "),n("li",{class:{selected:e.switchShow.showViewMenu}},[n("a",{staticClass:"btn-showViewMenu",attrs:{href:"javascritp:;"},on:{click:e.showMenu}},[e._v("外观样式")])])]),e._v(" "),n("div",{attrs:{id:"mind_tab-content"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.switchShow.showEditMenu,expression:"switchShow.showEditMenu"}],staticClass:"mind-tab-panel"},[n("edit-menu")],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.switchShow.showViewMenu,expression:"switchShow.showViewMenu"}],staticClass:"mind-tab-panel"},[n("view-menu")],1)])])}),[],!1,null,null,null).exports),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},D={mounted:function(){var e=n("/fdn"),t=this.$el,o=window.editor=new e(t);this.setEditor(o),window.localStorage.mindText&&o.minder.importJson(JSON.parse(window.localStorage.mindText)),o.minder.on("contentchange",(function(){window.localStorage.mindText=JSON.stringify(o.minder.exportJson())})),window.minder=window.km=o.minder,this.setMinder(o.minder),this.executeCallback()},computed:z({},Object(d.c)(["minder"])),methods:z({},Object(d.b)(["executeCallback"]),Object(d.d)(["setMinder","setEditor"]))},P=(n("GkzL"),Object(r.a)(D,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"mind-editor"})}),[],!1,null,null,null).exports),R=n("dEg0").a,L={name:"editor",components:{headerMenu:A,mainEditor:P,navigator:Object(r.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigator"},[n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"nav-btn zoom-in",class:{active:e.zoomRadioIn},attrs:{title:"放大"},on:{click:e.zoomIn}},[n("div",{staticClass:"icon"})]),e._v(" "),n("div",{staticClass:"zoom-pan"},[n("div",{staticClass:"origin",style:{transform:"translate(0, "+e.getHeight(100)+"px)"},on:{click:e.RestoreSize}}),e._v(" "),n("div",{staticClass:"indicator",style:{transform:"translate(0, "+e.getHeight(this.zoom)+"px)",transition:"transform 200ms"}})]),e._v(" "),n("div",{staticClass:"nav-btn zoom-out",class:{active:e.zoomRadioOut},attrs:{title:"缩小"},on:{click:e.zoomOut}},[n("div",{staticClass:"icon"})]),e._v(" "),n("div",{staticClass:"nav-btn hand",class:{active:e.enableHand},attrs:{title:"拖拽"},on:{click:e.hand}},[n("div",{staticClass:"icon"})]),e._v(" "),n("div",{staticClass:"nav-btn camera",attrs:{title:"定位根节点"},on:{click:e.locateToOrigin}},[n("div",{staticClass:"icon"})]),e._v(" "),n("div",{staticClass:"nav-btn nav-trigger",class:{active:e.isNavOpen},attrs:{title:"导航器"},on:{click:e.toggleNavOpen}},[n("div",{staticClass:"icon"})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isNavOpen,expression:"isNavOpen"}],staticClass:"nav-previewer"})])}),[],!1,null,null,null).exports}},V=Object(r.a)(L,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main-container"},[t("header-menu"),this._v(" "),t("mainEditor"),this._v(" "),t("navigator")],1)}),[],!1,null,null,null).exports;i.default.use(l.a);var F=new l.a({routes:[{path:"/",name:"editor",component:V}]}),I=function(e){return e.count},B=function(e){return{saving:e.working.saving,draging:e.working.draging,editing:e.working.editing}},H=function(e){return{ctrlPanelMin:e.config.ctrlPanelMin,ctrlPanelWidth:e.config.ctrlPanelWidth,dividerWidth:e.config.dividerWidth,defaultLang:e.config.defaultLang,zoom:e.config.zoom}},U=function(e){return e.minder},J=function(e){return e.editor},$={changeCount:function(e){return(0,e.commit)("changeCount")},increment:function(e){return(0,e.commit)("increment")},decrement:function(e){return(0,e.commit)("decrement")},incrementIfOdd:function(e){var t=e.commit;(e.state.count+1)%2==0&&t("increment")},incrementAsync:function(e){var t=e.commit;return new Promise((function(e,n){setTimeout((function(){t("increment"),e()}),1e3)}))},setConfig:function(e){return(0,e.commit)("setConfig")},registerEvent:function(e){return(0,e.commit)("registerEvent",callback)},executeCallback:function(e){e.commit;e.state.callbackQueue.forEach((function(e){e.apply(this,arguments)}))},isQuotaExceeded:function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t},getMemory:function(e,t){e.commit,e.state;var n=window.localStorage.getItem(t),o=JSON.parse(n);return console.log("action:"+o),o},setMemory:function(e,t){e.commit,e.state;try{return window.localStorage.setItem(t.key,JSON.stringify(t.value)),!0}catch(e){if(this.isQuotaExceeded(e))return!1}},removeMemory:function(e){var t=window.localStorage.getItem(e);return window.localStorage.removeItem(e),t},clearMemory:function(){window.localStorage.clear()}},Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q={changeDrag:function(e,t){e.working.draging=t},setMinder:function(e,t){e.minder=t},setEditor:function(e,t){e.editor=t},changeSave:function(e,t){e.working.saving=t},changeCount:function(e){e.count++},increment:function(e){e.count++},decrement:function(e){e.count--},registerEvent:function(e,t){e.callbackQueue.push(t)},setConfig:function(e){var t=Object.keys(e.config),n={};for(var o in"object"===("undefined"==typeof key?"undefined":Y(key))?n=key:n[key]=value,n){if(!n.hasOwnProperty(o)||-1===t.indexOf(o))return console.error("Unsupported config key: ",key,", please choose in :",t.join(", ")),!1;e.config[o]=n[o]}return!0}},X={count:2,minder:{},editor:{},working:{editing:!1,saving:!1,draging:!1},callbackQueue:[],config:{ctrlPanelMin:250,ctrlPanelWidth:parseInt(window.localStorage.__dev_minder_ctrlPanelWidth)||250,dividerWidth:3,defaultLang:"zh-cn",zoom:[10,20,30,50,80,100,120,150,200],imageUpload:"server/imageUpload.php"}};i.default.use(d.a);var W=new d.a.Store({state:X,getters:o,actions:$,mutations:Q}),G=(n("D66Q"),n("XJYT")),K=n.n(G);n("EVdn");n("VrN/"),n("1eCo"),n("+dQi"),n("ewDg"),n("1p+/"),n("lZu9"),n("nrkQ"),n("RKCW"),n("DlQD"),n("Ilfy"),n("0MmH"),n("cQGY"),n("hfhy"),i.default.config.productionTip=!0,i.default.use(K.a),new i.default({el:"#app",router:F,store:W,template:"<App/>",components:{App:s}})},XujU:function(e,t,n){var o;void 0===(o=function(e,t,n){return n.exports=window.HotBox}.call(t,n,t,e))||(e.exports=o)},bSn8:function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("XujU");return o.exports=function(){var e=this.fsm,t=this.minder,n=this.receiver,o=this.container,a=new i(o);a.setParentFSM(e),e.when("normal -> hotbox",(function(e,n,o){var i,r=t.getSelectedNode();if(r){var s=r.getRenderBox();i={x:s.cx,y:s.cy}}a.active("main",i)})),e.when("normal -> normal",(function(e,n,o,i){"shortcut-handle"==o&&(a.dispatch(i)?i.preventDefault():t.dispatchKeyEvent(i))})),e.when("modal -> normal",(function(e,t,o,i){"import-text-finish"==o&&n.element.focus()})),this.hotbox=a}}.call(t,n,t,e))||(e.exports=o)},"cxy/":function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("XujU");new(n("8zQj"))("drag");return o.exports=function(){var e,t,n=this.fsm,o=this.minder,a=this.hotbox;this.receiver.element,n.when("* -> drag",(function(){})),n.when("drag -> *",(function(e,t,n){}));var r,s,l,d,c,u,p=1,m=!1,h=!1;function f(e,t){if(!e)return m=h=!1,u&&kity.releaseFrame(u),void(u=null);u||(u=kity.requestFrame(function(e,t,n){return function(o){switch(e){case"left":n._viewDragger.move({x:-t,y:0},0);break;case"top":n._viewDragger.move({x:0,y:-t},0);break;case"right":n._viewDragger.move({x:t,y:0},0);break;case"bottom":n._viewDragger.move({x:0,y:t},0);break;default:return}o.next()}}(e,t,o)))}o.on("mousedown",(function(n){p=0;var i=o.getPaper().container.getBoundingClientRect();e=n.originEvent.clientX,t=n.originEvent.clientY,c=i.top,r=i.width,s=i.height})),o.on("mousemove",(function(u){if("drag"===n.state()&&0==p&&o.getSelectedNode()&&(Math.abs(e-u.originEvent.clientX)>20||Math.abs(t-u.originEvent.clientY)>20)&&(l=u.originEvent.clientX,d=u.originEvent.clientY-c,l<20?f("right",20-l):l>r-20?f("left",20+l-r):m=!0,d<20?f("bottom",d):d>s-20?f("top",20+d-s):h=!0,m&&h&&f(!1)),"drag"!==n.state()&&0===p&&o.getSelectedNode()&&(Math.abs(e-u.originEvent.clientX)>20||Math.abs(t-u.originEvent.clientY)>20))return"hotbox"===n.state()&&a.active(i.STATE_IDLE),n.jump("drag","user-drag")})),window.addEventListener("mouseup",(function(){if(p=1,"drag"===n.state())return f(!1),n.jump("normal","drag-finish")}),!1)}}.call(t,n,t,e))||(e.exports=o)},dEg0:function(e,t,n){"use strict";(function(e){var o=n("L2JU"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.a={name:"navigator",data:function(){return{zoom:100,isNavOpen:!1,$previewNavigator:"",paper:"",nodeThumb:"",connectionThumb:"",visibleRect:"",contentView:"",visibleView:"",pathHandler:""}},computed:i({},Object(o.c)({minder:"getMinder",config:"config"}),{enableHand:function(){return this.minder.queryCommandState&&1==this.minder.queryCommandState("hand")},zoomRadioIn:function(){return 0==this.getZoomRadio(this.zoom)},zoomRadioOut:function(){return 1==this.getZoomRadio(this.zoom)}}),methods:i({},Object(o.b)(["setMemory","getMemory"]),{getNavOpenState:function(){return window.localStorage.getItem("navigator-hidden")},zoomIn:function(){this.minder.execCommand("zoomIn")},RestoreSize:function(){this.minder.execCommand("zoom",100)},zoomOut:function(){this.minder.execCommand("zoomOut")},hand:function(){this.minder.execCommand("hand")},getZoomRadio:function(e){var t=this.minder.getOption&&this.minder.getOption("zoom");if(t){var n=t[0];return 1-(e-n)/(t[t.length-1]-n)}},getHeight:function(t){var n=e(".zoom-pan").height();return this.getZoomRadio(t)*n},locateToOrigin:function(){this.minder.execCommand("camera",minder.getRoot(),600)},toggleNavOpen:function(){var e,t=this;e=!JSON.parse(t.getNavOpenState()),t.setMemory({key:"navigator-hidden",value:e}),t.isNavOpen=e,setTimeout((function(){t.isNavOpen?(t.bind(),t.updateContentView(),t.updateVisibleView()):t.unbind()}),100)},bind:function(){this.minder.on("layout layoutallfinish",this.updateContentView),this.minder.on("viewchange",this.updateVisibleView)},unbind:function(){this.minder.off("layout layoutallfinish",this.updateContentView),this.minder.off("viewchange",this.updateVisibleView)},updateContentView:function(){var e=this,t=e.minder.getRenderContainer().getBoundaryBox();e.contentView=t;e.paper.setViewBox(t.x-30-.5,t.y-30-.5,t.width+60+1,t.height+60+1);var n=[],o=[];e.minder.getRoot().traverse((function(t){var i=t.getLayoutBox();e.pathHandler(n,i.x,i.y,i.width,i.height),t.getConnection()&&t.parent&&t.parent.isExpanded()&&o.push(t.getConnection().getPathData())})),e.paper.setStyle("background",minder.getStyle("background")),n.length?e.nodeThumb.fill(minder.getStyle("root-background")).setPathData(n):e.nodeThumb.setPathData(null),o.length?e.connectionThumb.stroke(minder.getStyle("connect-color"),"0.5%").setPathData(o):e.connectionThumb.setPathData(null),e.updateVisibleView()},updateVisibleView:function(){this.visibleView=this.minder.getViewDragger().getView(),this.visibleRect.setBox(this.visibleView.intersect(this.contentView))}}),mounted:function(){var t=this,n=t.minder;t.$previewNavigator=e(".nav-previewer"),t.paper=new kity.Paper(t.$previewNavigator[0]),t.nodeThumb=t.paper.put(new kity.Path),t.connectionThumb=t.paper.put(new kity.Path),t.visibleRect=t.paper.put(new kity.Rect(100,100).stroke("red","1%")),t.contentView=new kity.Box,t.visibleView=new kity.Box,n.setDefaultOptions({zoom:t.config.zoom}),n&&n.on("zoom",(function(e){t.zoom=e.zoom})),t.isNavOpen?(t.bind(),t.updateContentView(),t.updateVisibleView()):t.unbind(),function(){function o(e,o){var i=t.visibleView;e.x=-e.x,e.y=-e.y,i=n.getPaper().getViewPortMatrix().transformBox(i);var a=e.offset(i.width/2,i.height/2);n.getViewDragger().moveTo(a,o)}var i=!1;t.paper.on("mousedown",(function(e){i=!0,o(e.getPosition("top"),200),t.$previewNavigator.addClass("grab")})),t.paper.on("mousemove",(function(e){i&&o(e.getPosition("top"))})),e(window).on("mouseup",(function(){i=!1,t.$previewNavigator&&t.$previewNavigator.removeClass("grab")}))}()}}}).call(this,n("EVdn"))},"dSb+":function(e,t,n){var o;void 0===(o=function(e,t,o){var i=new(n("8zQj"))("fsm");function a(e,t,n,o){return e.when==t&&(("*"==e.enter||e.enter==o)&&("*"==e.exit||e.exit==n||void 0))}function r(e){var t=e,n=[];this.jump=function(e,o){if(!o)throw new Error("Please tell fsm the reason to jump");var r,s,l=t,d=[l,e].concat([].slice.call(arguments,1));for(r=0;r<n.length;r++)if(a((s=n[r]).condition,"before",l,e)&&s.apply(null,d))return;for(t=e,i.log("[{0}] {1} -> {2}",o,l,e),r=0;r<n.length;r++)a((s=n[r]).condition,"after",l,e)&&s.apply(null,d);return t},this.state=function(){return t},this.when=function(e,t){var o,i,a,r;if(1==arguments.length&&(t=e,e="* -> *"),2==(i=e.split(" - ")).length?o="before":2==(i=e.split(" -> ")).length&&(o="after"),!o)throw new Error("Illegal fsm condition: "+e);a=i[0],r=i[1],t.condition={when:o,exit:a,enter:r},n.push(t)}}return o.exports=function(){this.fsm=new r("normal")}}.call(t,n,t,e))||(e.exports=o)},dkMl:function(e,t,n){var o;void 0===(o=function(e,t,n){return n.exports=function(){var e;if(!(e="string"==typeof this.selector?document.querySelector(this.selector):this.selector))throw new Error("Invalid selector: "+this.selector);e.classList.add("km-editor"),this.container=e}}.call(t,n,t,e))||(e.exports=o)},f1rw:function(e,t,n){},hfhy:function(e,t,n){var o;void 0===(o=function(e,t,o){return o.exports=kityminder.Editor=n("/fdn")}.call(t,n,t,e))||(e.exports=o)},iIxm:function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("XujU");return o.exports=function(){var e,t,n=this.fsm,o=this.minder,a=this.receiver,r=this.container,s=a.element,l=this.hotbox;a.listen("normal",(function(e){if(a.enable(),e.is("Space"))return e.preventDefault(),kity.Browser.safari&&(s.innerHTML=""),n.jump("hotbox","space-trigger");switch(e.type){case"keydown":if(o.getSelectedNode()){if(function(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=65&&e.keyCode<=90||(e.keyCode>=48&&e.keyCode<=57||(108!=e.keyCode&&e.keyCode>=96&&e.keyCode<=111||(108!=e.keyCode&&e.keyCode>=96&&e.keyCode<=111||(229==e.keyCode||0===e.keyCode)))))}(e))return n.jump("input","user-input")}else s.innerHTML="";n.jump("normal","shortcut-handle",e)}})),a.listen("hotbox",(function(e){a.disable(),e.preventDefault();l.dispatch(e);if(l.state()==i.STATE_IDLE&&"hotbox"==n.state())return n.jump("normal","hotbox-idle")})),a.listen("input",(function(e){if(a.enable(),"keydown"==e.type){if(e.is("Enter"))return e.preventDefault(),n.jump("normal","input-commit");if(e.is("Esc"))return e.preventDefault(),n.jump("normal","input-cancel");(e.is("Tab")||e.is("Shift + Tab"))&&e.preventDefault()}else if("keyup"==e.type&&e.is("Esc"))return e.preventDefault(),n.jump("normal","input-cancel")})),r.addEventListener("mousedown",(function(o){2==o.button&&o.preventDefault(),"hotbox"==n.state()?(l.active(i.STATE_IDLE),n.jump("normal","blur")):"normal"==n.state()&&2==o.button&&(e=o.clientX,t=o.clientY)}),!1),r.addEventListener("mousewheel",(function(e){"hotbox"==n.state()&&(l.active(i.STATE_IDLE),n.jump("normal","mousemove-blur"))}),!1),r.addEventListener("contextmenu",(function(e){e.preventDefault()})),r.addEventListener("mouseup",(function(i){"normal"==n.state()&&2==i.button&&i.clientX==e&&i.clientY==t&&o.getSelectedNode()&&n.jump("hotbox","content-menu")}),!1),l.$element.addEventListener("mousedown",(function(e){e.stopPropagation()}))}}.call(t,n,t,e))||(e.exports=o)},lrL8:function(e,t,n){var o;void 0===(o=function(e,t,n){return n.exports=function(){var e=this.minder,t=window.kityminder.data;if(e.supportClipboardEvent&&!kity.Browser.gecko){var n=this.fsm,o=this.receiver,i=this.MimeType,a=i.getMimeTypeProtocol("application/km"),r=t.getRegisterProtocol("json").decode,s=[];document.addEventListener("copy",(function(t){if(document.activeElement==o.element){var i=t;switch(n.state()){case"input":break;case"normal":var a=[].concat(e.getSelectedNodes());if(a.length){var r;if(a.length>1)if(a.sort((function(e,t){return e.getLevel()-t.getLevel()})),(r=a[0].getLevel())!==a[a.length-1].getLevel()){var s,d=0,c=a.length,u=c-1;for(s=a[u];s.getLevel()!==r;){for(d=0;d<c&&a[d].getLevel()===r;){if(a[d].isAncestorOf(s)){a.splice(u,1);break}d++}s=a[--u]}}var p=l(a);i.clipboardData.setData("text/plain",p)}t.preventDefault()}}})),document.addEventListener("cut",(function(t){if(document.activeElement==o.element){if("normal"!==e.getStatus())return void t.preventDefault();var i=t;switch(n.state()){case"input":break;case"normal":var a=e.getSelectedNodes();a.length&&(i.clipboardData.setData("text/plain",l(a)),e.execCommand("removenode")),t.preventDefault()}}})),document.addEventListener("paste",(function(t){if(document.activeElement==o.element){if("normal"!==e.getStatus())return void t.preventDefault();var a=t,l=n.state(),d=a.clipboardData.getData("text/plain");switch(l){case"input":if(!i.isPureText(d))return void t.preventDefault();break;case"normal":var c=e.getSelectedNodes();if("application/km"===i.whichMimeType(d)){var u,p=r(i.getPureText(d));c.forEach((function(t){for(var n=p.length-1;n>=0;n--)u=e.createNode(null,t),e.importNode(u,p[n]),s.push(u),t.appendChild(u)})),e.select(s,!0),s=[],e.refresh()}else{if(a.clipboardData&&a.clipboardData.items[0].type.indexOf("image")>-1){var m=a.clipboardData.items[0].getAsFile();return angular.element(document.body).injector().get("server").uploadImage(m).then((function(t){var n=t.data;0===n.errno&&e.execCommand("image",n.data.url)}))}c.forEach((function(t){e.Text2Children(t,d)}))}t.preventDefault()}}}))}function l(n){for(var o=[],i=0,r=n.length;i<r;i++)o.push(e.exportNode(n[i]));return a(t.getRegisterProtocol("json").encode(o))}}}.call(t,n,t,e))||(e.exports=o)},oOAV:function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("HRQ7"),a=n("AsA8"),r=n("JqqP"),s=n("GX2X"),l=n("403d"),d=n("CYm2");return o.exports=function(){var e=this.minder,t=this.hotbox,n=[{label:".json",key:"j",cmd:function(){r.exportJson(e)}},{label:".png",key:"p",cmd:function(){i.exportPNGImage(e)}},{label:".svg",key:"s",cmd:function(){a.exportSVG(e)}},{label:".txt",key:"t",cmd:function(){s.exportTextTree(e)}},{label:".md",key:"m",cmd:function(){l.exportMarkdown(e)}},{label:".mm",key:"f",cmd:function(){d.exportFreeMind(e)}}];t.state("main").button({position:"top",label:"导出",key:"E",enable:function(){return!0},next:"exp"});var o=t.state("exp");n.forEach((function(e){o.button({position:"ring",label:e.label,key:null,action:e.cmd})})),o.button({position:"center",label:"取消",key:"esc",next:"back"})}}.call(t,n,t,e))||(e.exports=o)},rkfW:function(e,t,n){var o=n("BviO");"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,i);o.locals&&(e.exports=o.locals)},stce:function(e,t,n){var o=n("Shwk");"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,i);o.locals&&(e.exports=o.locals)},vaHd:function(e,t,n){var o;void 0===(o=function(e,t,o){var i=n("/qK9");n("bSn8");return o.exports=function(){var e=this.fsm,t=this.minder,n=document.createElement("div");n.contentEditable=!0,n.setAttribute("tabindex",-1),n.classList.add("receiver"),n.onkeydown=n.onkeypress=n.onkeyup=function(t){var n;t.is=function(e){for(var t=e.split("|"),n=0;n<t.length;n++)if(i.is(this,t[n]))return!0;return!1};for(var o=0;o<a.length;o++)if(("*"==(n=a[o]).notifyState||n.notifyState==e.state())&&n.call(null,t))return},this.container.appendChild(n);var o={element:n,selectAll:function(){n.innerHTML||(n.innerHTML="&nbsp;");var e=document.createRange(),t=window.getSelection();e.selectNodeContents(n),t.removeAllRanges(),t.addRange(e),n.focus()},enable:function(){n.setAttribute("contenteditable",!0)},disable:function(){n.setAttribute("contenteditable",!1)},fixFFCaretDisappeared:function(){n.removeAttribute("contenteditable"),n.setAttribute("contenteditable","true"),n.blur(),n.focus()},onblur:function(e){n.onblur=e}};o.selectAll(),t.on("beforemousedown",o.selectAll),t.on("receiverfocus",o.selectAll),t.on("readonly",(function(){t.disable(),editor.receiver.element.parentElement.removeChild(editor.receiver.element),editor.hotbox.$container.removeChild(editor.hotbox.$element)}));var a=[];o.listen=function(e,t){1==arguments.length&&(t=e,e="*"),t.notifyState=e,a.push(t)},this.receiver=o}}.call(t,n,t,e))||(e.exports=o)}},[["Vtdi",1,2]]]);